{"remainingRequest":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js!/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksej/Projects/what2vue/src/components/renderless/Player.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aleksej/Projects/what2vue/src/components/renderless/Player.vue","mtime":1614846518039},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js","mtime":1610645748948},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js","mtime":1610645763935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG1vZGVsOiB7CiAgICBwcm9wOiAndGhpbmdzJywKICAgIGV2ZW50OiAndXBkYXRlJwogIH0sCiAgcHJvcHM6IHsKICAgIGF1dG86IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzcGVlZDogewogICAgICB0eXBlOiBbTnVtYmVyXSwKICAgICAgZGVmYXVsdDogMTAwMAogICAgfSwKICAgIHRoaW5nczogewogICAgICB0eXBlOiBBcnJheSwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0sCiAgICBjb250cm9sczogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1cnJlbnRTdGF0ZTogJ3N0b3AnLAogICAgICBhdXRvUGxheWVyOiBudWxsLAogICAgICBjdXJyZW50OiAwLAogICAgICBpc1BhdXNlZDogZmFsc2UsCiAgICAgIGlzUGxheWluZzogZmFsc2UsCiAgICAgIGlzU3RvcGVkOiB0cnVlCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHRvdGFsOiBmdW5jdGlvbiB0b3RhbCgpIHsKICAgICAgcmV0dXJuIHRoaXMudGhpbmdzLmxlbmd0aDsKICAgIH0sCiAgICBzb21lOiBmdW5jdGlvbiBzb21lKCkgewogICAgICByZXR1cm4gdGhpcy50b3RhbCA+IDA7CiAgICB9LAogICAgaXNGaXJzdDogZnVuY3Rpb24gaXNGaXJzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA9PT0gMDsKICAgIH0sCiAgICBpc0xhc3Q6IGZ1bmN0aW9uIGlzTGFzdCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA9PT0gdGhpcy50b3RhbCAtIDE7CiAgICB9LAogICAgaXNPbkhvbGQ6IGZ1bmN0aW9uIGlzT25Ib2xkKCkgewogICAgICByZXR1cm4gdGhpcy5pc1BhdXNlZCB8fCB0aGlzLmludGVycnVwdGVkIHx8IHRoaXMuZm9jdXNzZWQ7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgaWYgKHRoaXMuYXV0bykgewogICAgICB0aGlzLnBsYXkoKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIF9ydW46IGZ1bmN0aW9uIF9ydW4oKSB7CiAgICAgIGlmICh0aGlzLmlzT25Ib2xkKSByZXR1cm47CiAgICAgIHRoaXMuaXNQbGF5aW5nID0gdHJ1ZTsKICAgICAgdGhpcy5mb3J3YXJkKCk7CiAgICB9LAogICAgZ286IGZ1bmN0aW9uIGdvKGRpcmVjdGlvbikgewogICAgICBpZiAoTWF0aC5hYnMoZGlyZWN0aW9uKSA+IHRoaXMudG90YWwgfHwgZGlyZWN0aW9uID09PSAwKSByZXR1cm47IC8vIHN0b3AgdGhlIGF1dG8KCiAgICAgIHRoaXMuc3RvcCgpOwogICAgICB2YXIgbmV4dCA9IHRoaXMuY3VycmVudCArIGRpcmVjdGlvbjsKICAgICAgdmFyIGJhY2t3YXJkID0gdGhpcy5pc0ZpcnN0ID8gdGhpcy50b3RhbCAtIDEgOiBuZXh0OwogICAgICB2YXIgZm9yd2FyZCA9IHRoaXMuaXNMYXN0ID8gMCA6IG5leHQ7CiAgICAgIHRoaXMuY3VycmVudCA9IGRpcmVjdGlvbiA8IDAgPyBiYWNrd2FyZCA6IGZvcndhcmQ7IC8vIHN0b3AgdGhlIGF1dG8KCiAgICAgIHRoaXMucGxheSgpOwogICAgfSwKICAgIHNlbGVjdDogZnVuY3Rpb24gc2VsZWN0KHBpZWNlKSB7CiAgICAgIHRoaXMuY3VycmVudCA9IHBpZWNlOwogICAgfSwKICAgIGJhY2s6IGZ1bmN0aW9uIGJhY2soKSB7CiAgICAgIHRoaXMuZ28oLTEpOwogICAgfSwKICAgIGZvcndhcmQ6IGZ1bmN0aW9uIGZvcndhcmQoKSB7CiAgICAgIHRoaXMuZ28oMSk7CiAgICB9LAogICAgcGF1c2U6IGZ1bmN0aW9uIHBhdXNlKCkgewogICAgICB0aGlzLmlzUGF1c2VkID0gIXRoaXMuaXNQYXVzZWQ7CiAgICB9LAogICAgcGxheTogZnVuY3Rpb24gcGxheSgpIHsKICAgICAgdGhpcy5hdXRvUGxheWVyID0gc2V0SW50ZXJ2YWwodGhpcy5fcnVuLCB0aGlzLnNwZWVkKTsKICAgIH0sCiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICBjbGVhckludGVydmFsKHRoaXMuYXV0b1BsYXllcik7CiAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7CiAgICB9CiAgfSwKICBkZXN0cm95OiBmdW5jdGlvbiBkZXN0cm95KCkgewogICAgdGhpcy5zdG9wKCk7CiAgfQp9Ow=="},{"version":3,"sources":["Player.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div @mouseenter=\"pause\" @mouseleave=\"pause\">\n    <slot\n      :things=\"things\"\n      :play=\"play\"\n      :pause=\"pause\"\n      :stop=\"stop\"\n      :total=\"total\"\n      :some=\"some\"\n      :current=\"current\"\n      :select=\"select\"\n      :back=\"back\"\n      :forward=\"forward\"\n    >\n    </slot>\n    <slot name=\"controls\">\n      <div v-if=\"controls\">\n        {{ current + 1 }} / {{ total }}\n        <button @click=\"back\">back</button>\n        <button @click=\"forward\">next</button>\n      </div>\n    </slot>\n  </div>\n</template>\n\n<script>\nexport default {\n  model: {\n    prop: 'things',\n    event: 'update',\n  },\n  props: {\n    auto: {\n      type: Boolean,\n      default: false,\n    },\n    speed: {\n      type: [Number],\n      default: 1000,\n    },\n    things: {\n      type: Array,\n      required: true,\n    },\n    controls: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  data() {\n    return {\n      currentState: 'stop',\n      autoPlayer: null,\n      current: 0,\n      isPaused: false,\n      isPlaying: false,\n      isStoped: true,\n    }\n  },\n  computed: {\n    total() {\n      return this.things.length\n    },\n    some() {\n      return this.total > 0\n    },\n    isFirst() {\n      return this.current === 0\n    },\n    isLast() {\n      return this.current === this.total - 1\n    },\n    isOnHold() {\n      return this.isPaused || this.interrupted || this.focussed\n    },\n  },\n  mounted() {\n    if (this.auto) {\n      this.play()\n    }\n  },\n  methods: {\n    _run() {\n      if (this.isOnHold) return\n      this.isPlaying = true\n      this.forward()\n    },\n    go(direction) {\n      if (Math.abs(direction) > this.total || direction === 0) return\n      // stop the auto\n      this.stop()\n\n      const next = this.current + direction\n\n      const backward = this.isFirst ? this.total - 1 : next\n      const forward = this.isLast ? 0 : next\n\n      this.current = direction < 0 ? backward : forward\n\n      // stop the auto\n      this.play()\n    },\n    select(piece) {\n      this.current = piece\n    },\n    back() {\n      this.go(-1)\n    },\n    forward() {\n      this.go(1)\n    },\n    pause() {\n      this.isPaused = !this.isPaused\n    },\n    play() {\n      this.autoPlayer = setInterval(this._run, this.speed)\n    },\n    stop() {\n      clearInterval(this.autoPlayer)\n      this.isPlaying = false\n    },\n  },\n  destroy() {\n    this.stop()\n  },\n}\n</script>\n"],"sourceRoot":"src/components/renderless"}]}