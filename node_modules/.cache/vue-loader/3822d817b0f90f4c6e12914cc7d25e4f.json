{"remainingRequest":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksej/Projects/what2vue/src/layouts/DynamicLayout.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aleksej/Projects/what2vue/src/layouts/DynamicLayout.vue","mtime":1615051047760},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js","mtime":1610645748948},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js","mtime":1610645763935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBWdWUgZnJvbSAndnVlJwppbXBvcnQgTG9hZGluZ0NvbXBvbmVudCBmcm9tICcuL0xvYWRpbmdDb21wb25lbnQnCmltcG9ydCBFcnJvckNvbXBvbmVudCBmcm9tICcuL0Vycm9yQ29tcG9uZW50JwppbXBvcnQgT2Zmc2V0TGF5b3V0IGZyb20gJy4vT2Zmc2V0TGF5b3V0JwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE9mZnNldExheW91dCwKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBkeW5hbWljTGF5b3V0OiAnT2Zmc2V0TGF5b3V0JywKICAgICAgZHluYW1pY0xheW91dENvbXBvbmVudDogJ09mZnNldExheW91dCcsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZHluYW1pY0xheW91dDogewogICAgICBoYW5kbGVyOiAnY3JlYXRlQ29tcG9uZW50cycsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZSwKICAgIH0sCiAgfSwKICBtZXRob2RzOiB7CiAgICB1cGRhdGVMYXlvdXQoZSkgewogICAgICB0aGlzLmR5bmFtaWNMYXlvdXQgPSBlCiAgICB9LAogICAgY3JlYXRlQ29tcG9uZW50cyhuZXdOYW1lKSB7CiAgICAgIGlmIChuZXdOYW1lKSB7CiAgICAgICAgY29uc3QgQXN5bmNDb21wb25lbnQgPSAoKSA9PiAoewogICAgICAgICAgY29tcG9uZW50OiBpbXBvcnQoCiAgICAgICAgICAgIC8qIHdlYnBhY2tQcmVmZXRjaDogdHJ1ZSAqLyBgQC9sYXlvdXRzLyR7bmV3TmFtZX0udnVlYAogICAgICAgICAgKSwKICAgICAgICAgIGxvYWRpbmc6IExvYWRpbmdDb21wb25lbnQsCiAgICAgICAgICBlcnJvcjogRXJyb3JDb21wb25lbnQsCiAgICAgICAgICB0aW1lb3V0OiAzMDAwLAogICAgICAgIH0pCgogICAgICAgIGlmIChuZXdOYW1lKSB7CiAgICAgICAgICB0aGlzLmR5bmFtaWNMYXlvdXQgPSBuZXdOYW1lCiAgICAgICAgICB0aGlzLmR5bmFtaWNMYXlvdXRDb21wb25lbnQgPSBBc3luY0NvbXBvbmVudAogICAgICAgIH0KCiAgICAgICAgaWYgKCFWdWUub3B0aW9ucy5jb21wb25lbnRzW25ld05hbWVdKSB7CiAgICAgICAgICBWdWUuY29tcG9uZW50KG5ld05hbWUsIEFzeW5jQ29tcG9uZW50KQogICAgICAgIH0KICAgICAgfQogICAgfSwKICB9LAp9Cg=="},{"version":3,"sources":["DynamicLayout.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA","file":"DynamicLayout.vue","sourceRoot":"src/layouts","sourcesContent":["<template>\n  <component :is=\"dynamicLayoutComponent\">\n    <slot\n      v-bind=\"{\n        updateLayout,\n      }\"\n    >\n    </slot>\n  </component>\n</template>\n\n<script>\nimport Vue from 'vue'\nimport LoadingComponent from './LoadingComponent'\nimport ErrorComponent from './ErrorComponent'\nimport OffsetLayout from './OffsetLayout'\n\nexport default {\n  components: {\n    OffsetLayout,\n  },\n  data() {\n    return {\n      dynamicLayout: 'OffsetLayout',\n      dynamicLayoutComponent: 'OffsetLayout',\n    }\n  },\n  watch: {\n    dynamicLayout: {\n      handler: 'createComponents',\n      immediate: true,\n    },\n  },\n  methods: {\n    updateLayout(e) {\n      this.dynamicLayout = e\n    },\n    createComponents(newName) {\n      if (newName) {\n        const AsyncComponent = () => ({\n          component: import(\n            /* webpackPrefetch: true */ `@/layouts/${newName}.vue`\n          ),\n          loading: LoadingComponent,\n          error: ErrorComponent,\n          timeout: 3000,\n        })\n\n        if (newName) {\n          this.dynamicLayout = newName\n          this.dynamicLayoutComponent = AsyncComponent\n        }\n\n        if (!Vue.options.components[newName]) {\n          Vue.component(newName, AsyncComponent)\n        }\n      }\n    },\n  },\n}\n</script>\n"]}]}