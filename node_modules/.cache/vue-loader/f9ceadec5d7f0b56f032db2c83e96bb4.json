{"remainingRequest":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksej/Projects/what2vue/src/views/Movie/index.vue?vue&type=style&index=0&id=7fbd612e&scoped=true&lang=css&","dependencies":[{"path":"/Users/aleksej/Projects/what2vue/src/views/Movie/index.vue","mtime":1615025132862},{"path":"/Users/aleksej/Projects/what2vue/node_modules/css-loader/dist/cjs.js","mtime":1610645763104},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":1610645763935},{"path":"/Users/aleksej/Projects/what2vue/node_modules/@vue/cli-service/node_modules/postcss-loader/src/index.js","mtime":1610645764227},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js","mtime":1610645763935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoubW92aWVfX3RpdGxlIHsKICBjb2xvcjogI2Y1ZjVmNTsKICBmb250LXNpemU6IDJyZW07CiAgbGluZS1oZWlnaHQ6IDEuMTI1OwogIHRleHQtYWxpZ246IGNlbnRlcjsKfQoucmF0aW8gewogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICB3aWR0aDogMTAwJTsKICBwYWRkaW5nLWJvdHRvbTogNTYuNSU7Cn0KCi5yYXRpby1vYmplY3QgewogIHRvcDogMDsKICBsZWZ0OiAwOwogIGJvdHRvbTogMDsKICByaWdodDogMDsKICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgd2lkdGg6IDEwMCU7CiAgaGVpZ2h0OiAxMDAlOwp9CgoucG9zdGVyLAoudmlkZW8gewogIHdpZHRoOiAxMDAlOwp9Ci5wb3N0ZXJfX2ltZyB7CiAgd2lkdGg6IDEwMCU7CiAgbWF4LXdpZHRoOiAxMDAlOwp9CgoucHJldmlldyB7CiAgYmFja2dyb3VuZC1jb2xvcjogIzBmMWMyNjsKICB3aWR0aDogMTAwJTsKICBvdmVyZmxvdzogaGlkZGVuOwogIGJvcmRlci1yYWRpdXM6IDRweDsKICBib3gtc2hhZG93OiAwIDRweCA4cHggMCByZ2JhKDAsIDAsIDAsIDAuMTIpLCAwIDJweCA0cHggMCByZ2JhKDAsIDAsIDAsIDAuMDgpOwp9CgpAbWVkaWEgKG1pbi13aWR0aDogNjQwcHgpIHsKICAubW92aWVfX3RpdGxlIHsKICAgIGZvbnQtc2l6ZTogM3JlbTsKICB9CiAgLm9mZnNldCB7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTIwMHB4KTsKICB9CgogIC5wb3N0ZXIgewogICAgd2lkdGg6IDI3LjUlOwogIH0KCiAgLnZpZGVvIHsKICAgIHdpZHRoOiA3MyU7CiAgfQoKICAuYmFubmVyIHsKICAgIGJhY2tncm91bmQtY29sb3I6ICNlNWU1ZTU7CiAgICBoZWlnaHQ6IDUwMHB4OwogICAgYmFja2dyb3VuZC1zaXplOiBjb3ZlcjsKICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlciBjZW50ZXI7CiAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0OwogICAgYmFja2dyb3VuZC1ibGVuZC1tb2RlOiBtdWx0aXBseTsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Movie","sourcesContent":["<template>\n  <div v-if=\"movie\">\n    <div\n      class=\"banner\"\n      :style=\"{\n        backgroundColor: 'rgba(0, 0, 0, 0.55)',\n        backgroundImage: 'url(' + backgroundURL + ')',\n      }\"\n    ></div>\n    <section class=\"max-w-7xl mx-auto sm:px-6 lg:px-8\">\n      <div class=\"offset grid gap-2\">\n        <div class=\"flex flex-col sm:flex-row\">\n          <div class=\"poster order-2\">\n            <img v-if=\"posterURL\" class=\"poster__img\" :src=\"posterURL\" />\n          </div>\n          <div class=\"video order-1\">\n            <div v-if=\"videoURL\" class=\"ratio\">\n              <iframe\n                class=\"ratio-object\"\n                :src=\"videoURL\"\n                frameborder=\"0\"\n                allow=\"accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture\"\n                allowfullscreen\n              ></iframe>\n            </div>\n          </div>\n        </div>\n        <div>\n          <h1 class=\"movie__title\">{{ movie.title }}</h1>\n          <button class=\"app-button\" @click=\"toggleFavorite\">\n            {{ isFavorite ? 'remove from' : 'add to' }} favorites\n          </button>\n          <div>\n            <router-link :to=\"{ name: 'cast' }\">cast</router-link>\n            <router-link :to=\"{ name: 'crew' }\">crew</router-link>\n          </div>\n          <transition name=\"fade\" mode=\"out-in\">\n            <router-view />\n          </transition>\n        </div>\n      </div>\n    </section>\n  </div>\n</template>\n\n<script>\nimport api from '@/api'\n\nconst getFirstVideo = (id) => async () => {\n  const response = await api.movieVideos.index(id)\n  const [firstVideo] = response.results\n  if (!firstVideo) return\n  if (!firstVideo.key) return\n  return firstVideo.key\n}\n\nexport default {\n  data() {\n    return {\n      id: this.$route.params.id,\n      loaded: false,\n      movie: '',\n      video: '',\n      people: {},\n    }\n  },\n  computed: {\n    isFavorite() {\n      return !!this.$store.getters.show(this.movie.id)\n    },\n    videoURL() {\n      if (!this.video) return\n      return `https://www.youtube.com/embed/${this.video}`\n    },\n    posterURL() {\n      if (!this.movie.poster_path) return\n      return `https://image.tmdb.org/t/p/w500/${this.movie.poster_path}`\n    },\n    backgroundURL() {\n      if (!this.movie.backdrop_path) return\n      return `https://image.tmdb.org/t/p/w1400_and_h450_face/${this.movie.backdrop_path}`\n    },\n  },\n  mounted() {\n    this.getMoviePage()\n    this.$emit('updateLayout', 'SinglePageLayout')\n  },\n  methods: {\n    toggleFavorite() {\n      this.isFavorite\n        ? this.$store.dispatch('DESTROY_FAVORITE', this.movie.id)\n        : this.$store.dispatch('STORE_FAVORITE', this.movie)\n    },\n    async getMovie() {\n      const response = await api.movie.show(this.id)\n      return response\n    },\n    getMoviePage() {\n      this.loaded = false\n      const setMovie = (movie) => ((this.movie = movie), movie)\n\n      const setVideo = (video) => {\n        this.video = video\n      }\n\n      return this.getMovie()\n        .then(setMovie)\n        .then(getFirstVideo(this.id))\n        .then((response) => {\n          this.loaded = true\n          setVideo(response)\n          return response\n        })\n    },\n  },\n}\n</script>\n\n<style scoped>\n.movie__title {\n  color: #f5f5f5;\n  font-size: 2rem;\n  line-height: 1.125;\n  text-align: center;\n}\n.ratio {\n  position: relative;\n  width: 100%;\n  padding-bottom: 56.5%;\n}\n\n.ratio-object {\n  top: 0;\n  left: 0;\n  bottom: 0;\n  right: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n.poster,\n.video {\n  width: 100%;\n}\n.poster__img {\n  width: 100%;\n  max-width: 100%;\n}\n\n.preview {\n  background-color: #0f1c26;\n  width: 100%;\n  overflow: hidden;\n  border-radius: 4px;\n  box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12), 0 2px 4px 0 rgba(0, 0, 0, 0.08);\n}\n\n@media (min-width: 640px) {\n  .movie__title {\n    font-size: 3rem;\n  }\n  .offset {\n    transform: translateY(-200px);\n  }\n\n  .poster {\n    width: 27.5%;\n  }\n\n  .video {\n    width: 73%;\n  }\n\n  .banner {\n    background-color: #e5e5e5;\n    height: 500px;\n    background-size: cover;\n    background-position: center center;\n    background-repeat: no-repeat;\n    background-blend-mode: multiply;\n  }\n}\n</style>\n"]}]}