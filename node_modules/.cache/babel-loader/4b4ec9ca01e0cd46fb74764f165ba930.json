{"remainingRequest":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js!/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksej/Projects/what2vue/src/views/Person/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aleksej/Projects/what2vue/src/views/Person/index.vue","mtime":1615060452951},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js","mtime":1610645748948},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js","mtime":1610645763935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9hbGVrc2VqL1Byb2plY3RzL3doYXQydnVlL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwppbXBvcnQgTW92aWVMaXN0IGZyb20gJ0AvY29tcG9uZW50cy9Nb3ZpZUxpc3QnOwppbXBvcnQgUGxheWVyIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXJsZXNzL1BsYXllcic7CmltcG9ydCBSZXNwb25zaXZlSW1hZ2UgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3BvbnNpdmVJbWFnZSc7CmltcG9ydCBGZXRjaCBmcm9tICdAL2NvbXBvbmVudHMvcmVuZGVybGVzcy9GZXRjaCc7CmltcG9ydCBhcGkgZnJvbSAnQC9hcGknOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTW92aWVMaXN0OiBNb3ZpZUxpc3QsCiAgICBQbGF5ZXI6IFBsYXllciwKICAgIFJlc3BvbnNpdmVJbWFnZTogUmVzcG9uc2l2ZUltYWdlLAogICAgRmV0Y2g6IEZldGNoCiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgaWQ6IHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgcGVyc29uOiB7fSwKICAgICAgbW92aWVzOiBbXSwKICAgICAgaW1hZ2VzOiBbXQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldFBlcnNvbigpOwogICAgdGhpcy5nZXRNb3ZpZXMoKTsKICAgIHRoaXMuZ2V0UGVyc29uSW1hZ2VzKCk7CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy4kZW1pdCgndXBkYXRlTGF5b3V0JywgJ09mZnNldExheW91dCcpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0UGVyc29uTW92aWVzOiBmdW5jdGlvbiBnZXRQZXJzb25Nb3ZpZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5hYnJ1cHQoInJldHVybiIsIGFwaS5wZXJzb25Nb3ZpZXMuaW5kZXgoX3RoaXMuaWQpKTsKCiAgICAgICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldE1vdmllczogZnVuY3Rpb24gZ2V0TW92aWVzKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciByZXNwb25zZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIGFwaS5wZXJzb25Nb3ZpZXMuaW5kZXgoX3RoaXMyLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMi5tb3ZpZXMgPSByZXNwb25zZS5jYXN0OwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRQZXJzb246IGZ1bmN0aW9uIGdldFBlcnNvbigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICB2YXIgcmVzcG9uc2U7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBhcGkucGVyc29uLnNob3coX3RoaXMzLmlkKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDMuc2VudDsKICAgICAgICAgICAgICAgIF90aGlzMy5wZXJzb24gPSByZXNwb25zZTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0UGVyc29uSW1hZ2VzOiBmdW5jdGlvbiBnZXRQZXJzb25JbWFnZXMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTQoKSB7CiAgICAgICAgdmFyIHJlc3BvbnNlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gYXBpLnBlcnNvbkltYWdlcy5pbmRleChfdGhpczQuaWQpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0NC5zZW50OwogICAgICAgICAgICAgICAgX3RoaXM0LmltYWdlcyA9IHJlc3BvbnNlLnByb2ZpbGVzOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTQpOwogICAgICB9KSkoKTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA,OAAA,SAAA,MAAA,wBAAA;AACA,OAAA,MAAA,MAAA,gCAAA;AACA,OAAA,eAAA,MAAA,8BAAA;AACA,OAAA,KAAA,MAAA,+BAAA;AACA,OAAA,GAAA,MAAA,OAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,SAAA,EAAA,SADA;AAEA,IAAA,MAAA,EAAA,MAFA;AAGA,IAAA,eAAA,EAAA,eAHA;AAIA,IAAA,KAAA,EAAA;AAJA,GADA;AAOA,EAAA,IAPA,kBAOA;AACA,WAAA;AACA,MAAA,EAAA,EAAA,KAAA,MAAA,CAAA,MAAA,CAAA,EADA;AAEA,MAAA,MAAA,EAAA,EAFA;AAGA,MAAA,MAAA,EAAA,EAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA,SAAA,SAAA;AACA,SAAA,SAAA;AACA,SAAA,eAAA;AACA,GAnBA;AAoBA,EAAA,OApBA,qBAoBA;AACA,SAAA,KAAA,CAAA,cAAA,EAAA,cAAA;AACA,GAtBA;AAuBA,EAAA,OAAA,EAAA;AACA,IAAA,eADA,6BACA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iDACA,GAAA,CAAA,YAAA,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA,CADA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA,KAHA;AAIA,IAAA,SAJA,uBAIA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,YAAA,CAAA,KAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,MAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAPA;AAQA,IAAA,SARA,uBAQA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,MAAA,CAAA,MAAA,GAAA,QAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA,KAXA;AAYA,IAAA,eAZA,6BAYA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACA,GAAA,CAAA,YAAA,CAAA,KAAA,CAAA,MAAA,CAAA,EAAA,CADA;;AAAA;AACA,gBAAA,QADA;AAEA,gBAAA,MAAA,CAAA,MAAA,GAAA,QAAA,CAAA,QAAA;;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAfA;AAvBA,CAAA","sourcesContent":["<template>\n  <section v-if=\"person\">\n    <portal to=\"title\">{{ person.name }}</portal>\n    <div class=\"grid lg:grid-cols-3 gap-4 lg:gap-16\">\n      <Player v-if=\"images.length > 0\" v-model=\"images\" controls :speed=\"5000\">\n        <template #default=\"{ things, some, current }\">\n          <div v-if=\"some\">\n            <div>\n              <transition name=\"fade\" mode=\"out-in\">\n                <ResponsiveImage\n                  :key=\"`https://image.tmdb.org/t/p/w500/${things[current].file_path}`\"\n                  class=\"rounded-lg overflow-hidden shadow\"\n                  :width=\"things[current].width\"\n                  :height=\"things[current].height\"\n                  :aspect-ratio=\"things[current].aspect_ratio\"\n                  :src=\"`https://image.tmdb.org/t/p/w500/${things[current].file_path}`\"\n                  :alt=\"person.name\"\n                />\n              </transition>\n            </div>\n          </div>\n        </template>\n      </Player>\n      <div class=\"col-span-2\">\n        <Fetch :apicall=\"getPersonMovies()\">\n          <template #success=\"{ data }\">\n            <MovieList :list=\"data.cast\" />\n          </template>\n        </Fetch>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport MovieList from '@/components/MovieList'\nimport Player from '@/components/renderless/Player'\nimport ResponsiveImage from '@/components/ResponsiveImage'\nimport Fetch from '@/components/renderless/Fetch'\nimport api from '@/api'\n\nexport default {\n  components: {\n    MovieList,\n    Player,\n    ResponsiveImage,\n    Fetch,\n  },\n  data() {\n    return {\n      id: this.$route.params.id,\n      person: {},\n      movies: [],\n      images: [],\n    }\n  },\n  mounted() {\n    this.getPerson()\n    this.getMovies()\n    this.getPersonImages()\n  },\n  created() {\n    this.$emit('updateLayout', 'OffsetLayout')\n  },\n  methods: {\n    async getPersonMovies() {\n      return api.personMovies.index(this.id)\n    },\n    async getMovies() {\n      const response = await api.personMovies.index(this.id)\n      this.movies = response.cast\n    },\n    async getPerson() {\n      const response = await api.person.show(this.id)\n      this.person = response\n    },\n    async getPersonImages() {\n      const response = await api.personImages.index(this.id)\n      this.images = response.profiles\n    },\n  },\n}\n</script>\n"],"sourceRoot":"src/views/Person"}]}