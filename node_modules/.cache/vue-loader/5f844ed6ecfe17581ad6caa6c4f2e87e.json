{"remainingRequest":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aleksej/Projects/what2vue/src/views/Person/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aleksej/Projects/what2vue/src/views/Person/index.vue","mtime":1615060452951},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/babel-loader/lib/index.js","mtime":1610645748948},{"path":"/Users/aleksej/Projects/what2vue/node_modules/cache-loader/dist/cjs.js","mtime":1610645746854},{"path":"/Users/aleksej/Projects/what2vue/node_modules/vue-loader/lib/index.js","mtime":1610645763935}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBNb3ZpZUxpc3QgZnJvbSAnQC9jb21wb25lbnRzL01vdmllTGlzdCcKaW1wb3J0IFBsYXllciBmcm9tICdAL2NvbXBvbmVudHMvcmVuZGVybGVzcy9QbGF5ZXInCmltcG9ydCBSZXNwb25zaXZlSW1hZ2UgZnJvbSAnQC9jb21wb25lbnRzL1Jlc3BvbnNpdmVJbWFnZScKaW1wb3J0IEZldGNoIGZyb20gJ0AvY29tcG9uZW50cy9yZW5kZXJsZXNzL0ZldGNoJwppbXBvcnQgYXBpIGZyb20gJ0AvYXBpJwoKZXhwb3J0IGRlZmF1bHQgewogIGNvbXBvbmVudHM6IHsKICAgIE1vdmllTGlzdCwKICAgIFBsYXllciwKICAgIFJlc3BvbnNpdmVJbWFnZSwKICAgIEZldGNoLAogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGlkOiB0aGlzLiRyb3V0ZS5wYXJhbXMuaWQsCiAgICAgIHBlcnNvbjoge30sCiAgICAgIG1vdmllczogW10sCiAgICAgIGltYWdlczogW10sCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXRQZXJzb24oKQogICAgdGhpcy5nZXRNb3ZpZXMoKQogICAgdGhpcy5nZXRQZXJzb25JbWFnZXMoKQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZUxheW91dCcsICdPZmZzZXRMYXlvdXQnKQogIH0sCiAgbWV0aG9kczogewogICAgYXN5bmMgZ2V0UGVyc29uTW92aWVzKCkgewogICAgICByZXR1cm4gYXBpLnBlcnNvbk1vdmllcy5pbmRleCh0aGlzLmlkKQogICAgfSwKICAgIGFzeW5jIGdldE1vdmllcygpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucGVyc29uTW92aWVzLmluZGV4KHRoaXMuaWQpCiAgICAgIHRoaXMubW92aWVzID0gcmVzcG9uc2UuY2FzdAogICAgfSwKICAgIGFzeW5jIGdldFBlcnNvbigpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucGVyc29uLnNob3codGhpcy5pZCkKICAgICAgdGhpcy5wZXJzb24gPSByZXNwb25zZQogICAgfSwKICAgIGFzeW5jIGdldFBlcnNvbkltYWdlcygpIHsKICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBhcGkucGVyc29uSW1hZ2VzLmluZGV4KHRoaXMuaWQpCiAgICAgIHRoaXMuaW1hZ2VzID0gcmVzcG9uc2UucHJvZmlsZXMKICAgIH0sCiAgfSwKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmCA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/Person","sourcesContent":["<template>\n  <section v-if=\"person\">\n    <portal to=\"title\">{{ person.name }}</portal>\n    <div class=\"grid lg:grid-cols-3 gap-4 lg:gap-16\">\n      <Player v-if=\"images.length > 0\" v-model=\"images\" controls :speed=\"5000\">\n        <template #default=\"{ things, some, current }\">\n          <div v-if=\"some\">\n            <div>\n              <transition name=\"fade\" mode=\"out-in\">\n                <ResponsiveImage\n                  :key=\"`https://image.tmdb.org/t/p/w500/${things[current].file_path}`\"\n                  class=\"rounded-lg overflow-hidden shadow\"\n                  :width=\"things[current].width\"\n                  :height=\"things[current].height\"\n                  :aspect-ratio=\"things[current].aspect_ratio\"\n                  :src=\"`https://image.tmdb.org/t/p/w500/${things[current].file_path}`\"\n                  :alt=\"person.name\"\n                />\n              </transition>\n            </div>\n          </div>\n        </template>\n      </Player>\n      <div class=\"col-span-2\">\n        <Fetch :apicall=\"getPersonMovies()\">\n          <template #success=\"{ data }\">\n            <MovieList :list=\"data.cast\" />\n          </template>\n        </Fetch>\n      </div>\n    </div>\n  </section>\n</template>\n\n<script>\nimport MovieList from '@/components/MovieList'\nimport Player from '@/components/renderless/Player'\nimport ResponsiveImage from '@/components/ResponsiveImage'\nimport Fetch from '@/components/renderless/Fetch'\nimport api from '@/api'\n\nexport default {\n  components: {\n    MovieList,\n    Player,\n    ResponsiveImage,\n    Fetch,\n  },\n  data() {\n    return {\n      id: this.$route.params.id,\n      person: {},\n      movies: [],\n      images: [],\n    }\n  },\n  mounted() {\n    this.getPerson()\n    this.getMovies()\n    this.getPersonImages()\n  },\n  created() {\n    this.$emit('updateLayout', 'OffsetLayout')\n  },\n  methods: {\n    async getPersonMovies() {\n      return api.personMovies.index(this.id)\n    },\n    async getMovies() {\n      const response = await api.personMovies.index(this.id)\n      this.movies = response.cast\n    },\n    async getPerson() {\n      const response = await api.person.show(this.id)\n      this.person = response\n    },\n    async getPersonImages() {\n      const response = await api.personImages.index(this.id)\n      this.images = response.profiles\n    },\n  },\n}\n</script>\n"]}]}